<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="" />
  <meta name="viewport"
    content="width=device-width, initial-scale=0.1, user-scalable=no, maximum-scale=0.5, minimum-scale=0.5" />
  <title>j1beatz - beat-info</title>
</head>

<!-- favicon 에러용 -->
<link rel="shortcut icon" href="#">

<!-- 공통 css -->
<link rel="stylesheet" href="./css/fonts.css">
<link rel="stylesheet" href="./css/normalize.css">
<link rel="stylesheet" href="../mobile/scss/j1beatz-mobile.min.css">
<style>
  body {
    background-color: #341d65;
  }
</style>

<body>
  <div class="app">
    <main class="main main--dark">
      <div class="beat-info">
        <div class="beat-info-header">
          <a href="#" class="beat-info-header__prev-btn">
            <i></i>
          </a>
          <h1 class="beat-info-header__txt">비트정보</h1>
          <a href="#" class="beat-info-header__like">
            <i></i>
          </a>
          <a href="#" class="beat-info-header__playlist">
            <i></i>
          </a>
          <a href="#" class="beat-info-header__share">
            <i></i>
          </a>
        </div>
        <div class="beat-info-main">
          <figure class="beat-info-main__figure">
            <img src="../mobile/img/ex/beat-info-thumbnail.png"
              srcset="../mobile/img/ex/beat-info-thumbnail.png 1x, ../mobile/img/ex/beat-info-thumbnail@2x.png 2x, ../mobile/img/ex/beat-info-thumbnail@3x.png 3x"
              alt="비트 썸네일">
            <figcaption class="beat-info-main__figcaption">
              <h2>Deep Dark</h2>
              <span>제 1 형민</span>
              <b>긴장 / Trap</b>
            </figcaption>
          </figure>
          <div class="beat-info-main__lps">
            <div class="like">
              <i></i><span>100</span>
            </div>
            <div class="play">
              <i></i><span>100</span>
            </div>
            <div class="down">
              <i></i><span>100</span>
            </div>
          </div>
          <!-- <div class="beat-info-main__tag beat-info-main__tag--none">
            <span>등록된 태그가 없습니다</span>
          </div> -->
          <div class="beat-info-main__tag-wrap">
            <a href="#" class="beat-info-main__tag">#외힙</a>
            <a href="#" class="beat-info-main__tag">#외힙느낌</a>
            <a href="#" class="beat-info-main__tag">#피아노</a>
            <a href="#" class="beat-info-main__tag">#감성</a>
            <a href="#" class="beat-info-main__tag">#밤</a>
            <a href="#" class="beat-info-main__tag">#릴베이비</a>
            <a href="#" class="beat-info-main__tag">#자이언티</a>
            <a href="#" class="beat-info-main__tag">#창모</a>
            <a href="#" class="beat-info-main__tag">#릴러말즈</a>
            <a href="#" class="beat-info-main__tag">#제네더질라</a>
            <a href="#" class="beat-info-main__tag">#폴블랑코</a>
          </div>
          <div class="tap">
            <div class="tap__link">
              <a href="#" class="download active">다운로드</a>
            </div>
            <div class="tap__link">
              <a href="#" class="cmt">코멘트(0)</a>
            </div>
          </div>
        </div>
        <div class="beat-info-footer">

          <div class="beat-info-footer__row-wrap">
            <div class="beat-info-footer__row">
              <div class="beat-info-footer__ver">
                <b>무료 다운</b>
                <span>FREE</span>
              </div>
              <button class="beat-info-footer__sell-btn beat-info-footer__sell-btn--free"></button>
            </div>
            <div class="beat-info-footer__row">
              <div class="beat-info-footer__ver">
                <b>디럭스</b>
                <span>DELUXE</span>
              </div>
              <button class="beat-info-footer__sell-btn">
                20,000 원
              </button>
            </div>
            <div class="beat-info-footer__row">
              <div class="beat-info-footer__ver">
                <b>프로</b>
                <span>PRO</span>
              </div>
              <button class="beat-info-footer__sell-btn beat-info-footer__sell-btn--none">
                판매안함
              </button>
            </div>
            <div class="beat-info-footer__row">
              <div class="beat-info-footer__ver">
                <b>익스클루시브</b>
                <span>EXCLUSIVE</span>
              </div>
              <button class="beat-info-footer__sell-btn">
                200,000 원
              </button>
            </div>
          </div>
          <button class="button button--tos">이용범위 확인</button>
          <!-- //row-wrap -->
          <div class="beat-info-footer__comment-wrap" style="display: none;">
            <!-- <div class="beat-info-footer__comment beat-info-footer__comment--none">
              <span>
                코멘트가 없습니다 <br>
                첫 번째 코멘트를 남겨보세요
              </span>
            </div> -->
            <div class="beat-info-footer__comment">
              <div class="comment">
                <div class="comment__row">
                  <div class="comment__thumb">
                    <img src="../mobile/img/ex/comment-thumb.png" alt="썸네일">
                  </div>
                  <div class="comment__desc">
                    <h3>닉네임</h3>
                    <p>
                      이 비트 정말 제 취향입니다! 무료로 다운 했다가 사용해
                      보고 안되겠다 싶어서 바로 디럭스로 구매해서 사용 중!
                    </p>
                    <span>
                      2021.02.26
                    </span>
                    <button class="button button--comment">답글달기</button>
                  </div>
                </div>
                <div class="comment__row">
                  <div class="comment__thumb">
                    <img src="../mobile/img/ex/comment-thumb.png" alt="썸네일">
                  </div>
                  <div class="comment__desc">
                    <h3>톡탁</h3>
                    <p>
                      이 비트 정말 제 취향입니다! 무료로 다운 했다가 사용해
                      보고 안되겠다 싶어서 바로 디럭스로 구매해서 사용 중!
                    </p>
                    <span>
                      2021.02.26
                    </span>
                    <button class="button button--comment">답글달기</button>
                    <div class="comment__recomment">
                      <div class="comment__desc">
                        <h3>닉네임</h3>
                        <p>
                          지금까지 이런 비트는 없었다.
                          이것은 비트인가 내 심장인가? 정말 초 강추 비트!!
                        </p>
                        <span>
                          2021.02.26
                        </span>
                      </div>
                    </div>
                    <div class="comment__recomment">
                      <div class="comment__desc">
                        <h3>엘사</h3>
                        <p>
                          표현력에 오지고 지리고 렛잇고
                        </p>
                        <span>
                          방금 전
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- //comment-wrap -->
        </div>
      </div>
      <!-- //footer -->
      <div class="bottomNav">
        <div class="beat-info-footer__comment-input">
          <input id="comment-input" type="text" placeholder="내용을 입력하세요" title="댓글입력창">
          <button></button>
          <div class="beat-info-footer__commenting">
            <span>제1형민에게 답글 남기는 중</span>
            <a class="cancel" href="javascript:void(0)">취소</a>
          </div>
        </div>
        <!-- comment-input -->
        <div class="playbar">
          <div class="playbar__thumb">
            <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
          </div>
          <div class="playbar__title">
            <span>Deep Dark</span>
          </div>
          <div class="playbar__btn-wrap">
            <button class="playbar__pause"></button>
            <button class="playbar__next"></button>
          </div>
        </div>
        <!-- //playbar -->
        <div class="playlist">
          <div class="playlist__header">
            <button class="playlist__close"></button>
          </div>
          <div class="playlist__controller-wrap">
            <div class="playlist__beat">
              <figure>
                <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
                <figcaption>
                  <span>Deep Dark</span>
                </figcaption>
              </figure>
            </div>
            <!-- <div class="playlist__beat playlist__beat--none">
              <span>재생중인 비트가 없습니다</span>
            </div> -->
            <div class="playlist__controller">
              <button class="playlist__controller-btn playlist__controller-btn--prev">이전 곡</button>
              <button class="playlist__controller-btn playlist__controller-btn--pause">정지</button>
              <button class="playlist__controller-btn playlist__controller-btn--next">다음 곡</button>
            </div>
          </div>
          <div class="playlist__bar">
            <span class="playlist__bar-time playlist__bar-time--now">0:00</span>
            <div class="playlist__bar-range range">
              <label for="playtime" class="none">재생시간</label>
              <input class="range__bar range__bar--play" type="range" min="0" max="214" value="0" step="any"
                title="재생시간" id="playtime">
              <span class="range__value"></span>
            </div>
            <span class="playlist__bar-time playlist__bar-time--total">3:34</span>
          </div>
          <div class="playlist__list-wrap">
            <div class="playlist__list">
              <div class="list">
                <div class="list__btn">
                  <button></button>
                </div>
                <div class="list__thumb">
                  <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
                </div>
                <div class="list__title">
                  <h4>Deep Dark</h4>
                  <span>제 1 형민</span>
                </div>
                <div class="list__delete">
                  <button></button>
                </div>
              </div>
            </div>
            <div class="playlist__list">
              <div class="list">
                <div class="list__btn">
                  <button></button>
                </div>
                <div class="list__thumb">
                  <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
                </div>
                <div class="list__title">
                  <h4>Deep Dark</h4>
                  <span>제 1 형민</span>
                </div>
                <div class="list__delete">
                  <button></button>
                </div>
              </div>
            </div>
            <div class="playlist__list">
              <div class="list">
                <div class="list__btn">
                  <button></button>
                </div>
                <div class="list__thumb">
                  <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
                </div>
                <div class="list__title">
                  <h4>Deep Dark</h4>
                  <span>제 1 형민</span>
                </div>
                <div class="list__delete">
                  <button></button>
                </div>
              </div>
            </div>
            <div class="playlist__list">
              <div class="list">
                <div class="list__btn">
                  <button></button>
                </div>
                <div class="list__thumb">
                  <img src="../mobile/img/imgs/thumbnail.png" alt="비트 썸네일">
                </div>
                <div class="list__title">
                  <h4>Deep Dark</h4>
                  <span>제 1 형민</span>
                </div>
                <div class="list__delete">
                  <button></button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="playlist__list-wrap playlist__list-wrap--none">
            <span>비트 리스트가 없습니다</span>
          </div> -->
        </div>
        <!-- //playlist -->
        <div class="bottomNav__wrap">
          <a href="#" class="bottomNav__menu bottomNav__menu--home">
            <i class="active"></i>
          </a>
          <a href="#" class="bottomNav__menu bottomNav__menu--top100">
            <i></i>
          </a>
          <a href="#" class="bottomNav__menu bottomNav__menu--music">
            <i></i>
          </a>
          <a href="#" class="bottomNav__menu bottomNav__menu--prod">
            <i></i>
          </a>
          <a href="#" class="bottomNav__menu bottomNav__menu--mypage">
            <i></i>
          </a>
        </div>
      </div>
    </main>
  </div>
  <!-- //app -->
  <script>
    document.querySelector(".cmt").addEventListener("click", function () {
      document.querySelector(".download").classList.remove("active")
      document.querySelector(".cmt").classList.add("active")
      document.querySelector(".beat-info-footer__row-wrap").style.display = "none"
      document.querySelector(".button.button--tos").style.display = "none"
      document.querySelector(".beat-info-footer__comment-wrap").style.display = "block"
      document.querySelector(".beat-info-footer__comment-input").style.display = "flex"
    });
    document.querySelector(".download").addEventListener("click", function () {
      document.querySelector(".cmt").classList.remove("active")
      document.querySelector(".download").classList.add("active")
      document.querySelector(".beat-info-footer__row-wrap").style.display = "block"
      document.querySelector(".button.button--tos").style.display = "block"
      document.querySelector(".beat-info-footer__comment-wrap").style.display = "none"
    })
    document.querySelector("#comment-input").addEventListener("mouseover", function () {
      document.querySelector(".beat-info-footer__commenting").classList.add("active")
    })
    document.querySelector(".cancel").addEventListener("click", function () {
      document.querySelector(".beat-info-footer__commenting").classList.remove("active")
    })


    class Event {
      constructor() {
        this.playBar = document.querySelector(".playbar");
        this.playList = document.querySelector(".playlist");
        this.playListClose = document.querySelector(".playlist__close");
        this.init();
      }
      init() {
        this.binds();
        this.events();
      }

      binds() {
        this.playbarShow = this.playbarShow.bind(this);
        this.playbarClose = this.playbarClose.bind(this);
      }

      events() {
        this.playBar.addEventListener("click", this.playbarShow);
        this.playListClose.addEventListener("click", this.playbarClose);
      }

      // 이벤트 함수
      playbarShow() {
        this.playList.classList.add("show")
      }

      playbarClose() {
        this.playList.classList.remove("show")
      }
    }
    new Event();

    function slideRange() {
      const settings = {
        fill: '#8500ff',
        background: '#28283F'
      }
      const sliders = document.querySelectorAll('.range');


      sliders.forEach(slider => {
        slider.addEventListener('input', (event) => {
          applyFill(event.target);
        });

        // play--bar 분 표시
        document.querySelector('.range__bar--play').addEventListener('input', (event) => {
          document.querySelector('.playlist__bar-time--now').innerHTML = getTimeStringSeconds(parseInt(event
            .target.value));
        });
        applyFill(slider);
      })

      // Array.prototype.forEach.call(sliders, (slider) => {
      //   slider.querySelector('.range__bar').addEventListener('input', (event) => {
      //     applyFill(event.target);
      //   });

      //   // play--bar 분 표시
      //   slider.querySelector('.range__bar--play').addEventListener('input', (event) => {
      //     document.querySelector('.playlist__bar-time').innerHTML = getTimeStringSeconds(parseInt(event.target.value));
      //   });
      //   applyFill(slider.querySelector('input'));
      // });

      // 레인지 배경
      function applyFill(slider) {
        const percentage = 100 * (slider.value - slider.min) / (slider.max - slider.min);
        const bg = `linear-gradient(90deg, ${settings.fill} ${percentage}%, ${settings.background} ${percentage+0.1}%)`;
        slider.style.background = bg;
      }



      // 초를 (분 : 초)로 변환
      function getTimeStringSeconds(seconds) {

        var min, sec

        min = parseInt((seconds % 3600) / 60);
        sec = seconds % 60;

        if (min.toString().length == 1) min = min;
        if (sec.toString().length == 1) sec = "0" + sec;

        return min + ":" + sec;
      }
    }
    slideRange()
  </script>
</body>

</html>