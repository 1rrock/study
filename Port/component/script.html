<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>script</title>
    
    <link rel="stylesheet" href="../assets/css/reset.css">
    <link rel="stylesheet" href="../assets/css/style5.css">
    <link rel="stylesheet" href="../assets/css/star.css">
</head>
<body>
    <div id="starwrap">
        <div class="stars"></div>
    </div>
    
    <div id="wrap"> 
        <header id="header">
            <div class="logo"></div>
            <div class="text">portfolio</div>
        </header>
        <main id="main">
            <span id="left-frame"></span>
            <span id="right-frame"></span>
            <div id="contents" class="parallax">
                <div class="script_title">
                    <h2>parallax</h2>
                    <p>
                        스크롤을 내릴 때마다 나타나는 효과의 스크립트 이펙트입니다.
                        forEach문을 사용해 각 섹션의 offsetTop값을 scrollTop 값이 초과
                        하면 효과가 생기게 해주었습니다.
                    </p>
                </div>
                <div class="script_screen">
                    <iframe title="패럴랙스이펙트" src="https://zxcv1685.github.io/dothome/effect/port/parallax03-javascript.html"></iframe>
                </div>
                <a href="#"><div class="script_Lbtn">view</div></a>
                <a href="https://zxcv1685.github.io/dothome/effect/port/parallax03-javascript.html"><div class="script_Rbtn">site</div></a>
            </div>
        </main>
        <footer id="footer">
            <div class="footer">
                <a href="http://zxcv1685.dothome.co.kr/Port/about.html" class="click">
                    <div class="button"></div>
                </a>
            </div>
        </footer>
    </div>
    
    
    
    <!-- script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="./assets/js/efeect.js"></script>
    <script>
        setTimeout(function(){
            let tl = gsap.timeline();
            tl.to("#wrap #header", {duration: 1.5, top: "0", opacity: 1, ease: "circ.out"}, "top_bottom_frame");
            tl.to("#wrap #footer", {duration: 1.5, bottom: "0", opacity: 1, ease: "circ.out"}, "top_bottom_frame");
            tl.to("#wrap #left-frame", {duration: 1.5, left: "10%", opacity: .5, ease: "circ.out"}, "side_frame");
            tl.to("#wrap #right-frame", {duration: 1.5, right: "10%", opacity: .5, ease: "circ.out"}, "side_frame");
            tl.to("#wrap #contents", {duration: 1.5, scale: 1, opacity: 1, ease: "circ.out"}, "-=.5");
        },1000);

        $(function () {
            let site = ['about', 'site', 'script', 'animation', 'contact'];

            $(".click").click(function (e) {
                $("#wrap").addClass("fadeOut");
                e.preventDefault();

                if( $("#wrap").find("fadeOut") ){
                    let tl = gsap.timeline();
                    tl.to("#wrap.fadeOut #contents", {duration: 1, scale: .5, opacity: 0, ease: "circ.out"});
                    tl.to("#wrap.fadeOut #header", {duration: 1, top: "-10%", opacity: 0, ease: "circ.out"}, "top_bottom_frame");
                    tl.to("#wrap.fadeOut #footer", {duration: 1, bottom: "-10%", opacity: 0, ease: "circ.out"}, "top_bottom_frame");
                    tl.to("#wrap.fadeOut #left-frame", {duration: 1, left: "0%", opacity: 0, ease: "circ.out"}, "top_bottom_frame");
                    tl.to("#wrap.fadeOut #right-frame", {duration: 1, right: "0%", opacity: 0, ease: "circ.out"}, "top_bottom_frame");
                }
                setTimeout(function () {
                    window.location.href = "http://zxcv1685.dothome.co.kr/Port/component/" + site[3] + ".html#";
                }, 1500);
            });
        });
    </script>
</body>
</html>